<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ultimate Photo Simulator | OS PV</title>
  <script src="navigation.js" defer></script>
  <link rel="stylesheet" href="navigation.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    /* Scoped enhancements to sit on top of site styling */
    :root {
      --glass-bg: rgba(255,255,255,0.08);
      --glass-border: rgba(255,255,255,0.2);
      --gold: #E5C558;
      --accent: #4CC9F0;
    }
    body { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif; }
    body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://dl.dropboxusercontent.com/scl/fi/m7xbp5cgqcxevpgvqav51/IMG_6280.jpg?rlkey=ywkip7i1ax94j167n7b25aszo&raw=1');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    filter: blur(5px);
    -webkit-filter: blur(5px);
    z-index: -1;
}
    .games-hero { padding: 80px 20px 20px; text-align: center; }
    .games-hero h1 { font-size: 2.2rem; margin: 0 0 10px; letter-spacing: 0.5px; }
    .games-hero p { opacity: 0.8; max-width: 900px; margin: 0 auto; }

    .badge-premium { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px; background: linear-gradient(145deg, #2a2a2a, #1c1c1c); border: 1px solid var(--glass-border); color: var(--gold); font-weight: 600; box-shadow: inset 0 0 10px rgba(229,197,88,0.15), 0 6px 18px rgba(0,0,0,0.35); }
    .badge-premium i { color: var(--gold); }

    .games-wrap { max-width: 1200px; margin: 20px auto 80px; padding: 0 20px; display: grid; gap: 24px; }
    .game-card { background: var(--glass-bg); backdrop-filter: blur(12px); border: 1px solid var(--glass-border); border-radius: 18px; overflow: hidden; box-shadow: 0 16px 40px rgba(0,0,0,0.35); }
    .game-head { display: flex; justify-content: space-between; align-items: center; gap: 12px; padding: 18px 20px; border-bottom: 1px solid var(--glass-border); }
    .game-title { display: flex; align-items: center; gap: 12px; }
    .game-title h2 { font-size: 1.25rem; margin: 0; }
    .game-title .label { font-size: 0.85rem; opacity: 0.8; }
    .score-box { font-weight: 600; color: var(--gold); }
    .game-body { padding: 18px 20px 24px; }
    .game-actions { display: flex; gap: 12px; flex-wrap: wrap; }
    .btn { appearance: none; border: 1px solid var(--glass-border); background: linear-gradient(145deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); color: #fff; padding: 10px 14px; border-radius: 12px; font-weight: 600; cursor: pointer; transition: 0.2s ease; }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 18px rgba(0,0,0,0.25); }
    .btn.primary { border-color: rgba(76,201,240,0.45); color: #e8f9ff; }
    .btn.gold { border-color: rgba(229,197,88,0.5); color: var(--gold); }
    /* Exposure Simulator */
    .exp-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; margin-bottom: 16px; }
    .control { background: rgba(255,255,255,0.04); border: 1px solid var(--glass-border); border-radius: 12px; padding: 12px; }
    .control h4 { margin: 0 0 8px; font-size: 0.95rem; }
    .control .val { font-size: 0.9rem; opacity: 0.85; }
    .target { background: rgba(255,255,255,0.04); border: 1px dashed var(--glass-border); border-radius: 12px; padding: 12px; margin-bottom: 16px; }
    .meter { height: 8px; background: rgba(255,255,255,0.08); border-radius: 999px; overflow: hidden; }
    .meter > span { display: block; height: 100%; width: 50%; background: linear-gradient(90deg, #4CC9F0, #E5C558); }
    input[type="range"] { width: 100%; }

    .hint { font-size: 0.9rem; opacity: 0.85; }
  </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo" onclick="return ospvRefreshAndGo(this)">OSPV</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active" data-i18n="home">ACCUEIL</a></li>
                <li><a href="portfolio.html" class="nav-link" data-i18n="portfolio">PORTFOLIO</a></li>
                <li><a href="offers.html" class="nav-link" data-i18n="offers">OFFRES</a></li>
                <li><a href="about.html" class="nav-link" data-i18n="about">PROPOS</a></li>
                <li><a href="contact.html" class="nav-link" data-i18n="contact">CONTACT</a></li>
                <li><a href="reviews.html" class="nav-link" data-i18n="reviews">AVIS</a></li>
            </ul>
            <div class="nav-right">
                <div class="nav-social">
                    <a href="http://instagram.com/soliman.omran" target="_blank" class="social-link">
                        <i class="fa-brands fa-instagram"></i>
                    </a>
                </div>
                <div class="nav-language" onclick="return ospvToggleLanguage()">
                    <span>FR</span>
                </div>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
  <div class="games-hero">
    <span class="badge-premium"><i class="fa-solid fa-gem"></i> <span data-i18n="premium">Premium</span></span>
    <h1 data-i18n="title">Simulateur Photo Ultime</h1>
    <p data-i18n="subtitle">Réglez vitesse, ouverture et ISO pour atteindre l’effet demandé.</p>
  </div>

  <main class="games-wrap">
    <!-- Ultimate: Exposure Simulator -->
    <section class="game-card" id="game-exposure">
      <div class="game-head">
        <div class="game-title">
          <i class="fa-solid fa-sliders"></i>
          <div>
            <h2 data-i18n="game_title">Simulateur Photo Ultime</h2>
            <div class="label" data-i18n="subtitle">Réglez vitesse, ouverture et ISO pour atteindre l’effet demandé.</div>
          </div>
        </div>
        <div class="score-box"><span data-i18n="score">Score</span> <span id="scoreG2">0</span>/5</div>
      </div>
      <div class="game-body">
        <div class="target" id="expTarget"></div>
        <div class="exp-controls">
          <div class="control"><h4 data-i18n="shutter">Vitesse</h4><div class="val" id="valShutter">1/125s</div><input type="range" id="shutter" min="1" max="9" value="5" /></div>
          <div class="control"><h4 data-i18n="aperture">Ouverture</h4><div class="val" id="valAperture">f/5.6</div><input type="range" id="aperture" min="1" max="9" value="5" /></div>
          <div class="control"><h4>ISO</h4><div class="val" id="valISO">400</div><input type="range" id="iso" min="1" max="9" value="5" /></div>
        </div>
        <div class="meter"><span id="expMeter"></span></div>
        <div class="game-actions">
          <button class="btn primary" id="btnCheckG2" data-i18n="check">Vérifier</button>
          <button class="btn gold" id="btnResetG2" data-i18n="reset">Rejouer</button>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Language helper
    function lang() {
      try { const v = localStorage.getItem('ospv_language'); return (v === 'EN' || v === 'FR') ? v : 'FR'; } catch(_) { return 'FR'; }
    }
    const i18n = {
      title:        { FR: 'Simulateur Photo Ultime', EN: 'Ultimate Photo Simulator' },
      subtitle:     { FR: 'Réglez vitesse, ouverture et ISO pour atteindre l’effet demandé.', EN: 'Adjust shutter, aperture, and ISO to achieve the requested effect.' },
      premium:      { FR: 'Premium', EN: 'Premium' },
      score:        { FR: 'Score', EN: 'Score' },
      next:         { FR: 'Suivant', EN: 'Next' },
      reset:        { FR: 'Rejouer', EN: 'Replay' },
      check:        { FR: 'Vérifier', EN: 'Check' },
      game_title:   { FR: 'Simulateur Photo Ultime', EN: 'Ultimate Photo Simulator' },
      target:       { FR: 'Objectif', EN: 'Objective' },
      shutter:      { FR: 'Vitesse', EN: 'Shutter' },
      aperture:     { FR: 'Ouverture', EN: 'Aperture' },
    };
    function applyI18n() {
      const L = lang();
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (i18n[key]) el.textContent = i18n[key][L] || i18n[key].FR;
      });
    }
    window.addEventListener('ospv:languageChanged', applyI18n);
    applyI18n();
    // Ultimate Exposure Simulator
    const shutterStops = ['1/4000','1/1000','1/500','1/250','1/125','1/60','1/30','1/15','1/8'];
    const apertureStops = ['f/1.4','f/2','f/2.8','f/4','f/5.6','f/8','f/11','f/16','f/22'];
    const isoStops = ['100','200','400','800','1600','3200','6400','12800','25600'];
    const shutter = document.getElementById('shutter');
    const aperture = document.getElementById('aperture');
    const iso = document.getElementById('iso');
    const valSh = document.getElementById('valShutter');
    const valAp = document.getElementById('valAperture');
    const valIso = document.getElementById('valISO');
    const expTarget = document.getElementById('expTarget');
    const expMeter = document.getElementById('expMeter');
    let scoreG2 = 0, roundG2 = 0, currentTarget = null;
    function pickTarget() {
      const effects = [
        { nameFR: 'Figer le mouvement (sport)', nameEN: 'Freeze motion (sports)', minSh:0, maxSh:3, hintFR:'Vitesse très rapide', hintEN:'Very fast shutter' },
        { nameFR: 'Flou de filé', nameEN: 'Motion blur panning', minSh:6, maxSh:8, hintFR:'Vitesse lente', hintEN:'Slow shutter' },
        { nameFR: 'Forte profondeur de champ', nameEN: 'Deep depth of field', minAp:6, maxAp:8, hintFR:'Petite ouverture', hintEN:'Small aperture' },
        { nameFR: 'Arrière-plan flou (portrait)', nameEN: 'Shallow depth (portrait)', minAp:0, maxAp:2, hintFR:'Grande ouverture', hintEN:'Wide aperture' },
        { nameFR: 'Très faible bruit', nameEN: 'Very low noise', minISO:0, maxISO:1, hintFR:'ISO bas', hintEN:'Low ISO' },
      ];
      return effects[Math.floor(Math.random()*effects.length)];
    }
    function evValue(sIdx, aIdx, iIdx){ return (sIdx) + (iIdx) - (aIdx); }
    function renderTarget() {
      currentTarget = pickTarget();
      const L = lang();
      const title = L==='EN' ? currentTarget.nameEN : currentTarget.nameFR;
      const hint  = L==='EN' ? currentTarget.hintEN : currentTarget.hintFR;
      expTarget.textContent = `${title} — ${hint}`;
    }
    function updateVals(){
      valSh.textContent = shutterStops[shutter.value-1];
      valAp.textContent = apertureStops[aperture.value-1];
      valIso.textContent = isoStops[iso.value-1];
      const ev = evValue(shutter.value-1, aperture.value-1, iso.value-1);
      const percent = Math.min(100, Math.max(0, 50 + ev*5));
      expMeter.style.width = percent+'%';
    }
    [shutter, aperture, iso].forEach(r => r.addEventListener('input', updateVals));
    document.getElementById('btnCheckG2').addEventListener('click', () => {
      let ok = true;
      if (currentTarget.minSh!=null) ok = ok && ((shutter.value-1) >= currentTarget.minSh && (shutter.value-1) <= currentTarget.maxSh);
      if (currentTarget.minAp!=null) ok = ok && ((aperture.value-1) >= currentTarget.minAp && (aperture.value-1) <= currentTarget.maxAp);
      if (currentTarget.minISO!=null) ok = ok && ((iso.value-1) >= currentTarget.minISO && (iso.value-1) <= currentTarget.maxISO);
      if (ok) scoreG2++;
      document.getElementById('scoreG2').textContent = scoreG2;
      roundG2++; if (roundG2 < 5) { renderTarget(); } else { renderTarget(); roundG2 = 0; scoreG2 = 0; document.getElementById('scoreG2').textContent = '0'; }
    });
    document.getElementById('btnResetG2').addEventListener('click', () => { scoreG2=0; roundG2=0; document.getElementById('scoreG2').textContent='0'; renderTarget(); });
    renderTarget(); updateVals();
    // end
  </script>
</body>
</html>
